#!/usr/bin/env bash

# -----------------------------------------------------------------------------
# backlight
# Description: Bezel UI module to change backlight level
# -----------------------------------------------------------------------------
# Requires:
#   light
# -----------------------------------------------------------------------------
# Useage:      $ ./backlight
# -----------------------------------------------------------------------------

# Source display_bezel which provides display_bezel() taking $1:module_name and $2:content
source "$HOME/.bin/ui/bezel/display_bezel"

function main() {
    # name of the bezel module
    local module_name='bezel_volume'

    # change percentage
    local level_percent='5'

    case $1 in
        down)
            light -U "${level_percent}"
            display_bezel "${module_name}" "$(light -G)"
            ;;
        up)
            light -A "${level_percent}"
            display_bezel "${module_name}" "$(light -G)"
            ;;
        off)
            light -S 0
            exit 0
            ;;
        min)
            light -S 5
            display_bezel "${module_name}" "$(light -G)"
            ;;
        max)
            light -S 100
            display_bezel "${module_name}" "$(light -G)"
            ;;
        *)
            exit 2
            ;;
    esac
}

# main
main "$@"
